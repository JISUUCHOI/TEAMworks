<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC 
"-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="boardMapper">
	
	<resultMap type="BoardDTO" id="boardDTOResultSet">
		<id column="board_sq" property="boardNo"/>
		<result column="bd_category" property="boardCategory"/>	
		<result column="bd_title" property="boardTitle"/>	
		<result column="emp_name" property="empName"/>	
		<result column="bd_content" property="boardContent"/>	
		<result column="create_date" property="createDate"/>	
		<result column="modify_date" property="modifyDate"/>	
		<result column="bd_count" property="count"/>	
		<result column="bd_like" property="like"/>	
		<result column="bd_status" property="status"/>	
		<result column="files" property="boardFiles"/>	
	</resultMap>

	<select id="selectListCount" parameterType="_int" resultType="_int">
		SELECT COUNT(*)
		  FROM V_BOARD_LIST
		 WHERE BD_STATUS='Y'
		   AND BD_CATEGORY=#{cat}
	</select>
	
	<select id="selectList" parameterType="_int" resultMap="boardDTOResultSet">
		SELECT *
		  FROM V_BOARD_LIST
		 WHERE BD_STATUS='Y'
		 AND BD_CATEGORY=#{cat}
		 ORDER BY BOARD_SQ DESC
	</select>
</mapper>
